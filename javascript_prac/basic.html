<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    hello world!!

    <script>
        console.log("================= 변수 ==================")
        let name = "Mike";


        name = "google";

        let message = `My name is ${name}`;

        console.log(name);
        console.log(message)

        console.log("My name is " + name)

        
        
        // boolean
        const age = 30;
        name = "mike";

        console.log(age > 30);
        console.log(name == 'mike');

        // null과 undefined 
        let user = null;
        console.log(user);

        // typeof 연산자 
        
        console.log(typeof 3);
        console.log(typeof name);
        console.log(typeof user);
        console.log(typeof age);
        console.log(typeof null);
        console.log(typeof undefined);


        console.log("================= 대화 상자 ==================")
        
        // prompt
        // default값 입력가능
        // const input_name = prompt("이름을 입력하세요.", "default name");
        // alert("welcome " + input_name)


        // confirm
        // const isAdult = confirm("당신은 성인 입니까?");
        // console.log(isAdult)




        console.log("================= 형 변환 ==================")
        console.log(String(1234));
        console.log(Number("1234"));
        console.log(Boolean(1));



        console.log("================= 연산자 ==================")
        const a = 1;
        const b = "1";

        console.log(a == b);
        console.log(a === b);



        console.log("================= 함수 ==================")
        //함수 적성

        function showError(){
            alert('에러가 발생했씁니다.');
        }

        let add1 = function(num1, num2){ return num1 + num2;}
        let add2 = (num1, num2) => {return num1 + num2;}

        console.log(add1(1, 2))
        console.log(add2(1, 2))

        
        console.log("================= 객체(Object) ==================")
        const superman = {
            name: 'clark',
            age: 30,
        }

        console.log(superman.name);
        console.log(superman['age']);

        delete superman.age;
        console.log(superman)

        function isAdult(user){
            if (!('age' in user)){
                return false;
            }
            return true;
        }

        const Jane = {name: "Jane"};
        const mike = {name: "Mike", age: 30}

        console.log(isAdult(Jane));
        console.log(isAdult(mike));


        // method, this
        let boy = {
            name: "Mike",
            showName: function(){
                console.log(boy.name)
                console.log(this.name)
            }
        };

        let man = boy;
        man.showName()
        man.name = "Tom"
        man.showName()

        // array
        let days = ["man", "tue", "wed"];

        days[1] = '화요일'

        days.unshift('thu');
        days.push('sun');

        for (let index=0;index < days.length; index++){
            console.log(days[index]);
        }

        for (let day of days){
            console.log(day);
        }
        console.log(days);


        console.log("================= Intermediate class ==================")
        console.log("================= 변수 ==================")
        // 변수
        // 호이스팅
        // TDZ(Temporal Dead Zone)

        console.log("================= 생성자 함수 ==================")
        // 상품 객체를 생성해보자.
        function Item(title, price){
            // this = {};
            this.title = title;
            this.price = price;

            this.showPrice = function(){
                console.log(`가격은 ${price}원 입니다.`);
            }

            // return this;

        }

        const item1 = new Item('인형', 3000);
        const item2 = new Item('가방', 5000);
        const item3 = new Item('지갑', 7000);

        console.log(item1, item2, item3);

        item1.showPrice();
        item2.showPrice();
        item3.showPrice();


        console.log("================= Object - methods / computed property ==================")


        // computed property
        let n1 = "name";
        let a1 = "age";

        const test_user = {
            [n1]: "Mike",
            [a1]: 30,

            [1+4]: 5,
        }
        console.log(test_user);


        function makeObj(key, val){
            return {
                [key]: val
            }
        }

        const obj = makeObj("나이", 30);
        console.log(obj);

        // assign()
        const user_assign = {
            name: "Mike",
            age: 30,
        };

        const user_assign2 = Object.assign({}, user_assign);
        // const user_assign3 = new user_assign(); // not a constructor 에러남
        console.log(user_assign)
        console.log(user_assign2)


        user_assign2.name = "Tom"
        console.log(user_assign)
        console.log(user_assign2)


        let temp_result;

        temp_result = Object.keys(user_assign);
        console.log(temp_result);

        temp_result = Object.values(user_assign);
        console.log(temp_result);

        temp_result = Object.entries(user_assign);
        console.log(temp_result);

        let arr = [
            ['mon', '월'],
            ['tue', '화'],
        ];

        const result = Object.fromEntries(arr);
        console.log(result);



        console.log("================= Symbol ==================")

        // new를 붙이지 않음, 유일한 식별자

        let temp_user = {
            name: "Mike",
            age: 30,
        }

        // 내가 작업
        const showName = Symbol('show name');
        temp_user[showName] = function(){
            console.log(this.name);
        };

        temp_user[showName]();

        for (let key in temp_user){
            console.log(`His ${key} is ${temp_user[key]}`);
        }



        console.log("================= Number, Math ==================")

        let temp_num;

        temp_num = 10;
        console.log(temp_num.toString()); //10
        console.log(temp_num.toString(2)); // 1010
        console.log(temp_num.toString(16)); // a


        temp_num = 3.54;

        console.log(Math.floor(temp_num)); // 3
        console.log(Math.ceil(temp_num)); // 3
        console.log(Math.round(temp_num)); // 3


        // 소수점 자리수
        console.log(temp_num.toFixed(1)); // 3.5

        // isNaN()
        let x = Number('x');
        console.log(x);


        // random(): 0~1 사이 무작위 숫자 생성
        x = Math.random();
        console.log(x);
        console.log(Math.floor(x*100)+1)

        let desc = "Hello World!"

        console.log(desc.toUpperCase());
        console.log(desc.toLowerCase());
        console.log(desc.indexOf('Wo'));
        console.log(desc.slice(2));
        console.log(desc.slice(2, 5));


        console.log("================= 배열 메소드1 ==================")
        // forEach

        arr = ["Mike", "Tom", "Jane"];

        arr.forEach((name, index)=> {
            console.log(`${index + 1}. ${name}`);
        });


        arr = [1,2,3,4,5];

        let output = arr.find((item) => {
            return item % 2 === 0;
        });

        console.log(output);


        let userList = [
            {name: "Mike", age: 30},
            {name: "Jane", age: 27},
            {name: "Tom", age: 10}
        ]

        output = userList.find((user)=>{
            if (user.age < 19){
                return true;
            }
            return false;
        });

        console.log(output);

        output = userList.findIndex((user)=>{
            if (user.age < 19){
                return true;
            }
            return false;
        });

        console.log(output);

        arr = [1,2,3,4,5];
        output = arr.filter((item)=>{
            return item % 2 === 0;
        });
        console.log(output);



        // map
        userList = [
            {name: "Mike", age: 30},
            {name: "Jane", age: 27},
            {name: "Tom", age: 10}
        ]

        let newUserList = userList.map(
            (user, index) => {
                return Object.assign({}, user, {
                    isAdult: user.age > 19,
                });
            }
        );

        console.log(newUserList);



        // join, split
        arr = ["안녕", "나는", "철수야"];
        output = arr.join(",");

        console.log(output);

        // Array.isArray()
        user = {
            name: "Mike",
            age: 30,
        }

        userList = ["Mike", "Tom", "Jane"];

        console.log(typeof user);
        console.log(typeof userList);

        console.log(Array.isArray(user));
        console.log(Array.isArray(userList));


        console.log("================= 배열 메소드2 ==================")

        arr = ["a", "c", "b", "d"];
        console.log(arr.sort());


        // 함수를 이용하여 정렬
        arr = [27, 8, 5, 13];
        arr.sort((a, b) =>{
            console.log(a, b);
            return a- b;
        });
        console.log(arr);


        // 모든 배열 합치기
        arr = [1,2,3,4,5];
        output = arr.reduce((accum, cur)=>{
            return accum + cur;
        }, 0); // 0은 초기값

        console.log(output);


        output = 0;
        arr.forEach((num)=>{
            output += num;
        });

        console.log(output);


        console.log("================= 나머지 매개변수, 전개 구문 ==================")
        function add(...numbers){
            let result = 0;
            numbers.forEach(num => result += num);
            return result;
        }

        console.log(add(1,2,3));
        console.log(add(1,2,3,4,5,6,7,8));

        function User(name, age, ...skills){
            this.name = name;
            this.age = age;
            this.skills = skills;
        }

        const user1 = new User("Mike", 30, "html", "css");
        const user2 = new User("Tom", 20, "html", "python");
        const user3 = new User("Jane", 10, "html");
        
        console.log(user1);
        console.log(user2);
        console.log(user3);


        // 전개구문
        let arr1 = [1,2,3];
        let arr2 = [4,5,6];

        arr1 = [...arr2, ...arr1];
        console.log(arr1);



        console.log("================= 클로저 ==================")

        function makeCounter(){
            let num = 0; // 은닉화

            return function (){
                return num++;
            };
        }

        let counter = makeCounter();

        console.log(counter());
        console.log(counter());
        console.log(counter());


        console.log("================= Call, Apply, Bind ==================")

        const mark = {
            name: "Mark",
        };

        const tom = {
            name: "Tom",
        };

        function showThisName(){
            console.log(this.name);
        }

        function update(birth, occup){
            this.birth = birth;
            this.occup = occup;
        }

        showThisName.call(mark);
        showThisName.call(tom);

        update.call(mark, 1999, "singer");
        console.log(mark);

        update.apply(tom, [2002, "dancer"]);
        console.log(tom);

        const updateMike = update.bind(mike);

        updateMike(1980, "police");
        console.log(mike);


        console.log("================= Class ==================")
        class User2{
            constructor(name, age){
                this.name = name;
                this.age = age;
            }

            showName(){
                console.log(this.name);
            }
        }

        const user_tom = new User2("Tom", 19);
        user_tom.showName();

        console.log("================= Async Await ==================")

        async function getName(){
            return "Mike";
        }

        getName().then((name)=>{
            console.log(name);
        })

    </script>
</body>
</html>